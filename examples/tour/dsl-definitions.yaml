tosca_definitions_version: tosca_2_0

metadata:

  template_name: DSL Definitions Example
  template_author: Puccini

dsl_definitions:

  # This area is allowed but otherwise ignored by TOSCA
  # Its intended use is as a scratch space for YAML anchors
  # See: https://yaml.org/spec/1.2.2/#71-alias-nodes

  # (Note that the key name doesn't matter here
  # It's just a placeholder)
  port: &PORT
    properties:
      protocol: udp
      port: 9100

imports:

- url: cloudy/cloudy.yaml
  namespace: cloudy

service_template:

  node_templates:

    web:
      type: cloudy:Server
      capabilities:
        # Here we'll use the anchor
        data_endpoint: *PORT
        admin_endpoint: *PORT
